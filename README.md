---
title: 物件導向設計原則-SOLID
date:  2020-3-24
tags: 設計模式
categories: 設計模式
description: 無
---

# 物件導向設計原則-SOLID

## 物件導向三大特性

物件導向設計(Object-Oriented Programming, OOP)，一定會提到它的三大特性。
- 封裝
- 繼承
- 多型

### 封裝

物件導向最基本的原則，把真實世界的某個事物包成物件，裡面的資訊不對外公開，只公開某些特定方法讓別人使用，內部的實做及資料都隱藏起來，不讓人直接使用，也不需要讓別人直接使用。也就是所謂的資訊隱藏（Information Hiding）

例子：

提款機，你不知道它裡面還有多少錢，也不知道內部的運做，不知道哪家公司生產的機器，但你還是會去使用他提供的方法：查詢餘額、提款。 因為他只開放這兩個方法給一般人使用，你要使用這兩個方法需要帶入的參數是提款卡及密碼，就可以完成你的需求。


### 繼承

子類別會擁有父類別的所有屬性、方法，再加上自己定義的屬性及方法，所以可以說子類別是父類別的延伸(extend)。



### 多型

在物件導向程式設計的概念中，利用父類別提供的方法呼叫，子類別可以有自己特有的行為。


### 總結

知道物件導向的特性，就可以寫出具備閱讀性、維謢性、擴充性的程式碼？答案是肯定的，但卻非常的困難。之所以困難，常見的因素列表如下。

- 為了方便，類別函數全部設為 Public。(未有效使用封裝的特性。)
- 單一類別中，混雜了許多功能，導至要修改特定功能時，相關程式碼的變動量過大。(高耦合、不符合單一職責)
- 資料與商業邏輯混雜在一起。(高耦合)
- 當出現特定需求變更時，直接變更原本程式碼。除了可能改壞原本程式功能外，也會增加維護上的麻煩。


## 單一職責原則(Single responsibility principle, SRP)

### 定義

> 單一個類，能夠引起變化的原因只能有一個。

### 闡述

對函數而言，一個函數內，同時做了兩件以上的事情。當發生錯誤時，很難快速定位錯誤的原因。另外，也容易間接導至程式碼的可閱讀性降低。

### 好處

- 類的複雜性降低，有清晰明確的定義
- 提高了可讀性和可維護性
- 使得變更引起的風險降低


## 開放封閉原則(Open-Close principle, OCP)


### 定義

> 對擴展開放，對修改封閉。

### 闡述

當需求有異動時，要如何在不變動現在正常運行的程式碼，藉由繼承、相依性注入等方式，增加新的程式碼，以實作新的需求。

假若為了新需求，去修改了原本的程式中的某一個函數，可能會造成其他呼叫使用該函數的的功能，出現非預期的錯誤。

### 好處

- 方便測試
- 提高複用性
- 提高可維護性
- 符合物件導向開發技術


## 里氏替換原則(Liskov substitution principle, LSP)

### 定義

> 所有引用基類的地方必須能透明地使用其子類的物件。

### 闡述

所有引用父類的地方，替換為其子類不會產生任何錯誤或異常。

### 含義

- 子類必須完全實現父類的方法
- 子類可以有自己的個性
- 覆蓋或實現父類的方法時輸入引數可以被放大
- 覆寫或實現父類的方法時輸出結果可以被縮小

## 依賴反轉原則(Dependency inversion principle, DIP)

### 定義

> 模塊間的依賴是通過抽象，實現類之間不發生直接的依賴關係，其依賴關係是通過接口或抽象類產生。

### 好處
- 採用依賴倒置原則可以減少類間的耦合性，提高系統的穩定性，降低並行開發引起的風險，提高程式碼的可讀性和可維護性。


## 接口隔離原則(Interface segregation principle, ISP)

### 定義

> 客戶端不應依賴它不需要的接口，依賴應建立在最小的接口上。

### 闡述

針對不同需求的用戶，開放其對應需求的介面，提拱使用。可避免不相關的需求介面異動，造成被強迫一同面對異動的情況。

### 原則

- 介面要儘量小
- 介面要高內聚
- 定製服務（單獨為一個個體提供優良的服務）
- 介面設計是有限度的（靈活設計介面粒度大小）

## 迪米特原則(Law of Demeter, LOD)

### 定義

> 一個對象應該對其他對象有最少的了解。

### 闡述

通俗地講，一個類應該對自己需要耦合或呼叫的類知道得最少，你（被耦合或呼叫的類）的內部是如何複雜都和我沒關係，那是你的事情，我就知道你提供的這麼多public方法，我就呼叫這麼多，其他的我一概不關心。


### 含義

- 只和朋友交流（出現在成員變數、方法的輸入輸出引數中的類稱為成員朋友類，而出現在方法體內部的類不屬於朋友）
- 朋友間也是有距離的
- 是自己的就是自己的（如果一個方法放在本類中，既不增加類間關係，也對本類不產生負面影響，就放置在本類中）



# 範例

[Design Pattern (Github)](https://github.com/InternetED/Design-Pattern-Exercise)


# 參考文獻

[面向對象](https://juejin.im/post/5d669bfc6fb9a06b1b19d25e)

